{
  "id": "c662d39f-8d05-448c-891c-fb82f0a6a996",
  "revision": 0,
  "last_node_id": 40,
  "last_link_id": 46,
  "nodes": [
    {
      "id": 1,
      "type": "Qwen3TTSLoader",
      "pos": [
        -36.55540577916161,
        -1785.4134617935188
      ],
      "size": [
        376.3025164249925,
        187.4698793816484
      ],
      "flags": {},
      "order": 0,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "model_obj",
          "type": "QWEN3_MODEL",
          "links": [
            2
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "Qwen3TTSLoader"
      },
      "widgets_values": [
        "Qwen/Qwen3-TTS-12Hz-0.6B-Base",
        "ModelScope",
        "bf16",
        "sdpa",
        true
      ]
    },
    {
      "id": 3,
      "type": "Qwen3TTSAdvancedDialogue",
      "pos": [
        -34.4131147411058,
        -1521.0096468334486
      ],
      "size": [
        384.5552734375,
        374
      ],
      "flags": {},
      "order": 14,
      "mode": 0,
      "inputs": [
        {
          "name": "model_obj",
          "type": "QWEN3_MODEL",
          "link": 2
        },
        {
          "name": "texts",
          "type": "LIST",
          "link": 3
        },
        {
          "name": "instructs",
          "type": "LIST",
          "link": 4
        },
        {
          "name": "roles",
          "type": "LIST",
          "link": 5
        },
        {
          "name": "pauses",
          "type": "LIST",
          "link": 6
        },
        {
          "name": "role_bank",
          "type": "QWEN3_ROLE_BANK",
          "link": 45
        }
      ],
      "outputs": [
        {
          "name": "AUDIO",
          "type": "AUDIO",
          "links": [
            10
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "Qwen3TTSAdvancedDialogue"
      },
      "widgets_values": [
        1083667978377600,
        "randomize",
        1024,
        0.7,
        0.8,
        50,
        1.05,
        0.9,
        1,
        50
      ]
    },
    {
      "id": 4,
      "type": "Qwen3TTSScriptProcessor",
      "pos": [
        -721.4847082082085,
        -1906.456166869796
      ],
      "size": [
        407.4612111099236,
        287.8684104934882
      ],
      "flags": {},
      "order": 9,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "texts",
          "type": "LIST",
          "links": [
            3
          ]
        },
        {
          "name": "instructs",
          "type": "LIST",
          "links": [
            4
          ]
        },
        {
          "name": "roles",
          "type": "LIST",
          "links": [
            5
          ]
        },
        {
          "name": "pauses",
          "type": "LIST",
          "links": [
            6
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "Qwen3TTSScriptProcessor"
      },
      "widgets_values": [
        "旁白: [低语] 在一个风雨[p:1.5]交加的夜晚。\n[pause:1.5]\n角色A: [恐惧] 谁？谁在那里？\n角色B: [冷酷] 是我...\n角色C: [开心] 你是谁？...\n角色B: [冷酷] 玲玲啊...\n角色D: [疑惑] 玲玲是谁啊？...",
        ""
      ]
    },
    {
      "id": 7,
      "type": "Qwen3TTSAudioPostProcess",
      "pos": [
        392.69206695132345,
        -1673.7888234948132
      ],
      "size": [
        337.394140625,
        106
      ],
      "flags": {},
      "order": 15,
      "mode": 0,
      "inputs": [
        {
          "name": "audio",
          "type": "AUDIO",
          "link": 10
        }
      ],
      "outputs": [
        {
          "name": "AUDIO",
          "type": "AUDIO",
          "links": [
            14
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "Qwen3TTSAudioPostProcess"
      },
      "widgets_values": [
        10,
        50,
        44100
      ]
    },
    {
      "id": 10,
      "type": "Qwen3TTSRoleBank",
      "pos": [
        -347.09243580400977,
        -1383.5823686881658
      ],
      "size": [
        272.1177734375,
        166
      ],
      "flags": {},
      "order": 11,
      "mode": 0,
      "inputs": [
        {
          "name": "prev_role_bank",
          "shape": 7,
          "type": "QWEN3_ROLE_BANK",
          "link": null
        },
        {
          "name": "prompt_1",
          "shape": 7,
          "type": "QWEN3_PROMPT",
          "link": 36
        },
        {
          "name": "prompt_2",
          "shape": 7,
          "type": "QWEN3_PROMPT",
          "link": 33
        },
        {
          "name": "prompt_3",
          "shape": 7,
          "type": "QWEN3_PROMPT",
          "link": 37
        }
      ],
      "outputs": [
        {
          "name": "role_bank",
          "type": "QWEN3_ROLE_BANK",
          "links": [
            46
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "Qwen3TTSRoleBank"
      },
      "widgets_values": [
        "旁白",
        "角色A",
        "角色B"
      ]
    },
    {
      "id": 14,
      "type": "SaveAudio",
      "pos": [
        396.641311273826,
        -1514.7131306491788
      ],
      "size": [
        345.03656241190856,
        128.3716136171438
      ],
      "flags": {},
      "order": 16,
      "mode": 0,
      "inputs": [
        {
          "name": "audio",
          "type": "AUDIO",
          "link": 14
        }
      ],
      "outputs": [],
      "properties": {},
      "widgets_values": [
        "audio/ComfyUI"
      ]
    },
    {
      "id": 26,
      "type": "Qwen3TTSPromptManager",
      "pos": [
        -724.3535991085995,
        -1387.7723452308724
      ],
      "size": [
        332.00390625,
        106
      ],
      "flags": {},
      "order": 7,
      "mode": 0,
      "inputs": [
        {
          "name": "voice_clone_prompt",
          "shape": 7,
          "type": "QWEN3_PROMPT",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "voice_clone_prompt",
          "type": "QWEN3_PROMPT",
          "links": [
            33
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "Qwen3TTSPromptManager"
      },
      "widgets_values": [
        "Load",
        "",
        "角色A.qwen3tts"
      ]
    },
    {
      "id": 29,
      "type": "Qwen3TTSPromptManager",
      "pos": [
        -727.4106341181487,
        -1220.9749771444988
      ],
      "size": [
        332.00390625,
        106
      ],
      "flags": {},
      "order": 6,
      "mode": 0,
      "inputs": [
        {
          "name": "voice_clone_prompt",
          "shape": 7,
          "type": "QWEN3_PROMPT",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "voice_clone_prompt",
          "type": "QWEN3_PROMPT",
          "links": [
            37
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "Qwen3TTSPromptManager"
      },
      "widgets_values": [
        "Load",
        "",
        "角色B.qwen3tts"
      ]
    },
    {
      "id": 30,
      "type": "Qwen3TTSPromptManager",
      "pos": [
        -723.6509078770231,
        -1554.569713317246
      ],
      "size": [
        332.00390625,
        106
      ],
      "flags": {},
      "order": 8,
      "mode": 0,
      "inputs": [
        {
          "name": "voice_clone_prompt",
          "shape": 7,
          "type": "QWEN3_PROMPT",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "voice_clone_prompt",
          "type": "QWEN3_PROMPT",
          "links": [
            36
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "Qwen3TTSPromptManager"
      },
      "widgets_values": [
        "Load",
        "",
        "旁白.qwen3tts"
      ]
    },
    {
      "id": 32,
      "type": "Qwen3TTSRoleBank",
      "pos": [
        -328.56217661628784,
        -850.9022603670026
      ],
      "size": [
        272.1177734375,
        166
      ],
      "flags": {},
      "order": 12,
      "mode": 0,
      "inputs": [
        {
          "name": "prev_role_bank",
          "shape": 7,
          "type": "QWEN3_ROLE_BANK",
          "link": 46
        },
        {
          "name": "prompt_1",
          "shape": 7,
          "type": "QWEN3_PROMPT",
          "link": 38
        },
        {
          "name": "prompt_2",
          "shape": 7,
          "type": "QWEN3_PROMPT",
          "link": 39
        },
        {
          "name": "prompt_3",
          "shape": 7,
          "type": "QWEN3_PROMPT",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "role_bank",
          "type": "QWEN3_ROLE_BANK",
          "links": [
            41,
            45
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "Qwen3TTSRoleBank"
      },
      "widgets_values": [
        "角色C",
        "角色D",
        ""
      ]
    },
    {
      "id": 34,
      "type": "Qwen3TTSPromptManager",
      "pos": [
        -701.3132535249702,
        -816.756502544496
      ],
      "size": [
        332.00390625,
        106
      ],
      "flags": {},
      "order": 4,
      "mode": 0,
      "inputs": [
        {
          "name": "voice_clone_prompt",
          "shape": 7,
          "type": "QWEN3_PROMPT",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "voice_clone_prompt",
          "type": "QWEN3_PROMPT",
          "links": [
            39
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "Qwen3TTSPromptManager"
      },
      "widgets_values": [
        "Load",
        "",
        "角色D.qwen3tts"
      ]
    },
    {
      "id": 35,
      "type": "Qwen3TTSPromptManager",
      "pos": [
        -711.885778283162,
        -975.6612194380325
      ],
      "size": [
        332.00390625,
        106
      ],
      "flags": {},
      "order": 5,
      "mode": 0,
      "inputs": [
        {
          "name": "voice_clone_prompt",
          "shape": 7,
          "type": "QWEN3_PROMPT",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "voice_clone_prompt",
          "type": "QWEN3_PROMPT",
          "links": [
            38
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "Qwen3TTSPromptManager"
      },
      "widgets_values": [
        "Load",
        "",
        "角色C.qwen3tts"
      ]
    },
    {
      "id": 36,
      "type": "Qwen3TTSRoleBank",
      "pos": [
        478.10568025624906,
        -894.3856891230068
      ],
      "size": [
        272.1177734375,
        166
      ],
      "flags": {},
      "order": 13,
      "mode": 4,
      "inputs": [
        {
          "name": "prev_role_bank",
          "shape": 7,
          "type": "QWEN3_ROLE_BANK",
          "link": 41
        },
        {
          "name": "prompt_1",
          "shape": 7,
          "type": "QWEN3_PROMPT",
          "link": 42
        },
        {
          "name": "prompt_2",
          "shape": 7,
          "type": "QWEN3_PROMPT",
          "link": 43
        },
        {
          "name": "prompt_3",
          "shape": 7,
          "type": "QWEN3_PROMPT",
          "link": 44
        }
      ],
      "outputs": [
        {
          "name": "role_bank",
          "type": "QWEN3_ROLE_BANK",
          "links": []
        }
      ],
      "properties": {
        "Node name for S&R": "Qwen3TTSRoleBank"
      },
      "widgets_values": [
        "角色C",
        "角色D",
        "角色E"
      ]
    },
    {
      "id": 37,
      "type": "Qwen3TTSPromptManager",
      "pos": [
        83.50686259960662,
        -988.7015650216618
      ],
      "size": [
        332.00390625,
        106
      ],
      "flags": {},
      "order": 1,
      "mode": 4,
      "inputs": [
        {
          "name": "voice_clone_prompt",
          "shape": 7,
          "type": "QWEN3_PROMPT",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "voice_clone_prompt",
          "type": "QWEN3_PROMPT",
          "links": [
            42
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "Qwen3TTSPromptManager"
      },
      "widgets_values": [
        "Load",
        "旁白.qwen3tts",
        "my_voice_01"
      ]
    },
    {
      "id": 38,
      "type": "Qwen3TTSPromptManager",
      "pos": [
        83.93169296700684,
        -832.0518913260792
      ],
      "size": [
        332.00390625,
        106
      ],
      "flags": {},
      "order": 2,
      "mode": 4,
      "inputs": [
        {
          "name": "voice_clone_prompt",
          "shape": 7,
          "type": "QWEN3_PROMPT",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "voice_clone_prompt",
          "type": "QWEN3_PROMPT",
          "links": [
            43
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "Qwen3TTSPromptManager"
      },
      "widgets_values": [
        "Load",
        "角色A.qwen3tts",
        "my_voice_01"
      ]
    },
    {
      "id": 39,
      "type": "Qwen3TTSPromptManager",
      "pos": [
        81.03904177416894,
        -674.8364754642056
      ],
      "size": [
        332.00390625,
        106
      ],
      "flags": {},
      "order": 3,
      "mode": 4,
      "inputs": [
        {
          "name": "voice_clone_prompt",
          "shape": 7,
          "type": "QWEN3_PROMPT",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "voice_clone_prompt",
          "type": "QWEN3_PROMPT",
          "links": [
            44
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "Qwen3TTSPromptManager"
      },
      "widgets_values": [
        "Load",
        "角色A.qwen3tts",
        "my_voice_01"
      ]
    },
    {
      "id": 40,
      "type": "MarkdownNote",
      "pos": [
        -1203.526601120338,
        -1905.7224592481614
      ],
      "size": [
        449.69635759097,
        429.7256075204971
      ],
      "flags": {},
      "order": 10,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "properties": {},
      "widgets_values": [
        "无限串联角色配音"
      ],
      "color": "#432",
      "bgcolor": "#653"
    }
  ],
  "links": [
    [
      2,
      1,
      0,
      3,
      0,
      "QWEN3_MODEL"
    ],
    [
      3,
      4,
      0,
      3,
      1,
      "LIST"
    ],
    [
      4,
      4,
      1,
      3,
      2,
      "LIST"
    ],
    [
      5,
      4,
      2,
      3,
      3,
      "LIST"
    ],
    [
      6,
      4,
      3,
      3,
      4,
      "LIST"
    ],
    [
      10,
      3,
      0,
      7,
      0,
      "AUDIO"
    ],
    [
      14,
      7,
      0,
      14,
      0,
      "AUDIO"
    ],
    [
      33,
      26,
      0,
      10,
      2,
      "QWEN3_PROMPT"
    ],
    [
      36,
      30,
      0,
      10,
      1,
      "QWEN3_PROMPT"
    ],
    [
      37,
      29,
      0,
      10,
      3,
      "QWEN3_PROMPT"
    ],
    [
      38,
      35,
      0,
      32,
      1,
      "QWEN3_PROMPT"
    ],
    [
      39,
      34,
      0,
      32,
      2,
      "QWEN3_PROMPT"
    ],
    [
      41,
      32,
      0,
      36,
      0,
      "QWEN3_ROLE_BANK"
    ],
    [
      42,
      37,
      0,
      36,
      1,
      "QWEN3_PROMPT"
    ],
    [
      43,
      38,
      0,
      36,
      2,
      "QWEN3_PROMPT"
    ],
    [
      44,
      39,
      0,
      36,
      3,
      "QWEN3_PROMPT"
    ],
    [
      45,
      32,
      0,
      3,
      5,
      "QWEN3_ROLE_BANK"
    ],
    [
      46,
      10,
      0,
      32,
      0,
      "QWEN3_ROLE_BANK"
    ]
  ],
  "groups": [
    {
      "id": 1,
      "title": "支持串联，无限角色",
      "bounding": [
        -723.3904613263339,
        -1053.7713058339402,
        1594.7486397146984,
        463.4360914269747
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    }
  ],
  "config": {},
  "extra": {
    "ds": {
      "scale": 0.7329760083901575,
      "offset": [
        1741.0612482165575,
        2137.653652157698
      ]
    },
    "frontendVersion": "1.39.1",
    "workflowRendererVersion": "LG"
  },
  "version": 0.4
}